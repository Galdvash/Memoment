{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nconst useAddCards = () => {\n  _s();\n  const [isClick, setIsClick] = useState(false);\n  const [formValid, setFormValid] = useState(false);\n  const [formData, setFormData] = useState({\n    title: \"\",\n    subtitle: \"\",\n    description: \"\",\n    phone: \"\",\n    email: \"\",\n    web: \"\",\n    image: {\n      // כאן משתנה המבנה של image \n      url: \"\",\n      alt: \"\"\n    },\n    city: \"\",\n    country: \"\",\n    state: \"\",\n    street: \"\",\n    houseNumber: \"\",\n    zip: \"\"\n  });\n  useEffect(() => {\n    const isValid = formData.title && formData.subtitle && formData.description && formData.phone && formData.email && formData.city && formData.country && formData.street && formData.houseNumber && formData.zip;\n    setFormValid(isValid);\n  }, [formData]);\n  const closeForm = () => {\n    setIsClick(false);\n  };\n  const OpenAndCloseCard = () => {\n    setIsClick(prevIsClick => !prevIsClick);\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevData => {\n      if (name.startsWith(\"image\")) {\n        return {\n          ...prevData,\n          image: {\n            ...prevData.image,\n            [name.split(\".\")[1]]: value\n          }\n        };\n      } else {\n        return {\n          ...prevData,\n          [name]: value\n        };\n      }\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (formValid) {\n      console.log(\"Form submitted:\", formData);\n      // ניהול הלוגיקה להגשת הטופס כאן\n    }\n  };\n  const addCard = async () => {\n    try {\n      const config = {\n        method: 'post',\n        url: 'https://monkfish-app-z9uza.ondigitalocean.app/bcard2/cards',\n        headers: {\n          'x-auth-token': token\n        },\n        data: {\n          title: formData.title,\n          subtitle: formData.subtitle,\n          description: formData.description,\n          phone: formData.phone,\n          email: formData.email,\n          web: formData.web,\n          image: {\n            url: formData.image.url,\n            alt: formData.image.alt\n          },\n          address: {\n            city: formData.city,\n            country: formData.country,\n            state: formData.state,\n            street: formData.street,\n            houseNumber: formData.houseNumber,\n            zip: formData.zip\n          }\n        }\n      };\n      console.log('Sending request with config:', config);\n      const response = await axios(config);\n      console.log('Card added successfully:', response.data);\n\n      // Update card list\n      addCardToList(response.data);\n\n      // Close form\n      closeForm();\n    } catch (error) {\n      console.error('Error adding card:', error);\n    }\n  };\n  return {\n    isClick,\n    OpenAndCloseCard,\n    handleChange,\n    handleSubmit,\n    formValid,\n    formData,\n    setIsClick,\n    closeForm\n  };\n};\n_s(useAddCards, \"jKVE0w7oI1bdlxHJMR8JBu3fMK4=\");\nexport default useAddCards;","map":{"version":3,"names":["useState","useEffect","useAddCards","_s","isClick","setIsClick","formValid","setFormValid","formData","setFormData","title","subtitle","description","phone","email","web","image","url","alt","city","country","state","street","houseNumber","zip","isValid","closeForm","OpenAndCloseCard","prevIsClick","handleChange","e","name","value","target","prevData","startsWith","split","handleSubmit","preventDefault","console","log","addCard","config","method","headers","token","data","address","response","axios","addCardToList","error"],"sources":["C:/Users/galdv/Desktop/ReactProject/ProjectOne/src/component/Cards/AddCard/useAddCards.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useAddCards = () => {\r\n  const [isClick, setIsClick] = useState(false);\r\n  const [formValid, setFormValid] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    subtitle: \"\",\r\n    description: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    web: \"\",\r\n    image: { // כאן משתנה המבנה של image \r\n      url: \"\",\r\n      alt: \"\"\r\n    },\r\n    city: \"\",\r\n    country: \"\",\r\n    state: \"\",\r\n    street: \"\",\r\n    houseNumber: \"\",\r\n    zip: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    const isValid = formData.title &&\r\n      formData.subtitle &&\r\n      formData.description &&\r\n      formData.phone &&\r\n      formData.email &&\r\n      formData.city &&\r\n      formData.country &&\r\n      formData.street &&\r\n      formData.houseNumber &&\r\n      formData.zip;\r\n\r\n    setFormValid(isValid);\r\n  }, [formData]);\r\n\r\n  const closeForm = () => {\r\n    setIsClick(false);\r\n  }\r\n\r\n  const OpenAndCloseCard = () => {\r\n    setIsClick(prevIsClick => !prevIsClick);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => {\r\n      if (name.startsWith(\"image\")) {\r\n        return {\r\n          ...prevData,\r\n          image: {\r\n            ...prevData.image,\r\n            [name.split(\".\")[1]]: value\r\n          }\r\n        }\r\n      } else {\r\n        return {\r\n          ...prevData,\r\n          [name]: value,\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (formValid) {\r\n      console.log(\"Form submitted:\", formData);\r\n      // ניהול הלוגיקה להגשת הטופס כאן\r\n    }\r\n  };\r\n  const addCard = async () => {\r\n    try {\r\n      const config = {\r\n        method: 'post',\r\n        url: 'https://monkfish-app-z9uza.ondigitalocean.app/bcard2/cards',\r\n        headers: {\r\n          'x-auth-token': token,\r\n        },\r\n        data: {\r\n          title: formData.title,\r\n          subtitle: formData.subtitle,\r\n          description: formData.description,\r\n          phone: formData.phone,\r\n          email: formData.email,\r\n          web: formData.web,\r\n          image: {\r\n            url: formData.image.url,\r\n            alt: formData.image.alt\r\n          },\r\n          address: {\r\n            city: formData.city,\r\n            country: formData.country,\r\n            state: formData.state,\r\n            street: formData.street,\r\n            houseNumber: formData.houseNumber,\r\n            zip: formData.zip,\r\n          },\r\n        },\r\n      };\r\n  \r\n      console.log('Sending request with config:', config);\r\n  \r\n      const response = await axios(config);\r\n      console.log('Card added successfully:', response.data);\r\n  \r\n      // Update card list\r\n      addCardToList(response.data);\r\n  \r\n      // Close form\r\n      closeForm();\r\n    } catch (error) {\r\n      console.error('Error adding card:', error);\r\n    }\r\n  };\r\n  \r\n\r\n  return { isClick, OpenAndCloseCard, handleChange, handleSubmit, formValid, formData, setIsClick, closeForm };\r\n};\r\n\r\nexport default useAddCards;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}