{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EventPhoneUpload=()=>{const[file,setFile]=useState(null);const[message,setMessage]=useState(\"\");// Handle file selection\nconst handleFileChange=e=>{setFile(e.target.files[0]);};// Upload file to the server\nconst handleUpload=async()=>{if(!file){setMessage(\"Please select a file first.\");return;}const formData=new FormData();formData.append(\"file\",file);try{const response=await axios.post(\"http://localhost:5000/api/excel/upload\",// הנתיב שלך לצד השרת\nformData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setMessage(response.data.message);}catch(error){console.error(\"Error uploading phone list:\",error);setMessage(\"Error uploading phone list.\");}};// Send SMS with OTP to the numbers in the Excel file\nconst handleSendOTP=async()=>{try{const response=await axios.post(\"http://localhost:5000/api/events/send-sms\"// הנתיב שלך לשליחת OTP\n);setMessage(response.data.message);}catch(error){console.error(\"Error sending OTP:\",error);setMessage(\"Error sending OTP messages.\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:\"100px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Upload Phone List for Event\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx, .csv\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,children:\"Upload Phone List\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendOTP,disabled:!file,children:\"Send SMS with OTP\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default EventPhoneUpload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","EventPhoneUpload","file","setFile","message","setMessage","handleFileChange","e","target","files","handleUpload","formData","FormData","append","response","post","headers","data","error","console","handleSendOTP","style","paddingTop","children","type","accept","onChange","onClick","disabled"],"sources":["C:/Users/galdv/Desktop/MeMoment/FrontEnd/src/component/EventPhoneUpload/EventPhoneUpload.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst EventPhoneUpload = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // Handle file selection\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  // Upload file to the server\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      setMessage(\"Please select a file first.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/api/excel/upload\", // הנתיב שלך לצד השרת\r\n        formData,\r\n        {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        }\r\n      );\r\n\r\n      setMessage(response.data.message);\r\n    } catch (error) {\r\n      console.error(\"Error uploading phone list:\", error);\r\n      setMessage(\"Error uploading phone list.\");\r\n    }\r\n  };\r\n\r\n  // Send SMS with OTP to the numbers in the Excel file\r\n  const handleSendOTP = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/api/events/send-sms\" // הנתיב שלך לשליחת OTP\r\n      );\r\n      setMessage(response.data.message);\r\n    } catch (error) {\r\n      console.error(\"Error sending OTP:\", error);\r\n      setMessage(\"Error sending OTP messages.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingTop: \"100px\" }}>\r\n      <h1>Upload Phone List for Event</h1>\r\n      <input type=\"file\" accept=\".xlsx, .csv\" onChange={handleFileChange} />\r\n      <button onClick={handleUpload}>Upload Phone List</button>\r\n      <br />\r\n      <button onClick={handleSendOTP} disabled={!file}>\r\n        Send SMS with OTP\r\n      </button>\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventPhoneUpload;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE1C;AACA,KAAM,CAAAW,gBAAgB,CAAIC,CAAC,EAAK,CAC9BJ,OAAO,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC5B,CAAC,CAED;AACA,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACR,IAAI,CAAE,CACTG,UAAU,CAAC,6BAA6B,CAAC,CACzC,OACF,CAEA,KAAM,CAAAM,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEX,IAAI,CAAC,CAE7B,GAAI,CACF,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,IAAI,CAC/B,wCAAwC,CAAE;AAC1CJ,QAAQ,CACR,CACEK,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACnD,CACF,CAAC,CAEDX,UAAU,CAACS,QAAQ,CAACG,IAAI,CAACb,OAAO,CAAC,CACnC,CAAE,MAAOc,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnDb,UAAU,CAAC,6BAA6B,CAAC,CAC3C,CACF,CAAC,CAED;AACA,KAAM,CAAAe,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,IAAI,CAC/B,2CAA4C;AAC9C,CAAC,CACDV,UAAU,CAACS,QAAQ,CAACG,IAAI,CAACb,OAAO,CAAC,CACnC,CAAE,MAAOc,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1Cb,UAAU,CAAC,6BAA6B,CAAC,CAC3C,CACF,CAAC,CAED,mBACEL,KAAA,QAAKqB,KAAK,CAAE,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAC,QAAA,eAClCzB,IAAA,OAAAyB,QAAA,CAAI,6BAA2B,CAAI,CAAC,cACpCzB,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,aAAa,CAACC,QAAQ,CAAEpB,gBAAiB,CAAE,CAAC,cACtER,IAAA,WAAQ6B,OAAO,CAAEjB,YAAa,CAAAa,QAAA,CAAC,mBAAiB,CAAQ,CAAC,cACzDzB,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQ6B,OAAO,CAAEP,aAAc,CAACQ,QAAQ,CAAE,CAAC1B,IAAK,CAAAqB,QAAA,CAAC,mBAEjD,CAAQ,CAAC,CACRnB,OAAO,eAAIN,IAAA,MAAAyB,QAAA,CAAInB,OAAO,CAAI,CAAC,EACzB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}