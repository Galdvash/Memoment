{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import useGetUser from\"../../hooks/UserHooks/useGetUser\";import Loading from\"../Loading/Loading\";import FormComponent from\"./AddCard/FormComponent\";import styleCards from\"./Cards.module.css\";import useAddCards from\"./AddCard/useAddCards\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const MyCards=()=>{const[cards,setCards]=useState([]);const{userInformation}=useGetUser();const{isClick,handleChange,handleSubmit,formValid,formData,closeForm,OpenAndCloseCard}=useAddCards();useEffect(()=>{const fetchCards=async()=>{if(userInformation){const token=localStorage.getItem('token');try{const response=await axios.get('https://monkfish-app-z9uza.ondigitalocean.app/bcard2/cards/my-cards',{headers:{'x-auth-token':token}});setCards(response.data);}catch(error){console.error(error);}}};fetchCards();},[userInformation]);const addCardToList=newCard=>{setCards(prevCards=>[newCard,...prevCards]);};if(!userInformation||!cards){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"bodyCards\",children:/*#__PURE__*/_jsx(\"div\",{className:styleCards.container_cards,children:/*#__PURE__*/_jsxs(\"div\",{className:styleCards.frontCard,children:[/*#__PURE__*/_jsx(\"h1\",{className:styleCards.stickTitle,children:\"My Cards\"}),cards.length===0&&/*#__PURE__*/_jsx(\"div\",{children:\"No cards found\"}),/*#__PURE__*/_jsx(\"ul\",{className:styleCards.listOfCards,children:cards.map(card=>/*#__PURE__*/_jsxs(\"li\",{className:styleCards.item,children:[/*#__PURE__*/_jsx(\"img\",{className:styleCards.imgCards,src:card.image.url,alt:card.image.alt}),/*#__PURE__*/_jsx(\"h2\",{children:card.title}),/*#__PURE__*/_jsx(\"p\",{className:styleCards.p,children:card.subtitle}),/*#__PURE__*/_jsx(\"p\",{className:styleCards.p,children:card.address.country})]},card._id))}),(userInformation.isAdmin||userInformation.isBusiness)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:OpenAndCloseCard,children:\"+\"}),isClick&&/*#__PURE__*/_jsx(FormComponent,{handleChange:handleChange,handleSubmit:handleSubmit,formValid:formValid,formData:formData,closeForm:closeForm,addCardToList:addCardToList})]})]})})})});};export default MyCards;","map":{"version":3,"names":["React","useEffect","useState","axios","useGetUser","Loading","FormComponent","styleCards","useAddCards","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyCards","cards","setCards","userInformation","isClick","handleChange","handleSubmit","formValid","formData","closeForm","OpenAndCloseCard","fetchCards","token","localStorage","getItem","response","get","headers","data","error","console","addCardToList","newCard","prevCards","children","className","container_cards","frontCard","stickTitle","length","listOfCards","map","card","item","imgCards","src","image","url","alt","title","p","subtitle","address","country","_id","isAdmin","isBusiness","onClick"],"sources":["C:/Users/galdv/Desktop/MeMoment/Memoment/FrontEnd/src/component/Cards/Cards.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport useGetUser from \"../../hooks/UserHooks/useGetUser\";\r\nimport Loading from \"../Loading/Loading\";\r\nimport FormComponent from \"./AddCard/FormComponent\";\r\nimport styleCards from \"./Cards.module.css\";\r\nimport useAddCards from \"./AddCard/useAddCards\";\r\n\r\nconst MyCards = () => {\r\n  const [cards, setCards] = useState([]);\r\n  const { userInformation } = useGetUser(); \r\n  const { isClick, handleChange, handleSubmit, formValid, formData, closeForm, OpenAndCloseCard } = useAddCards();\r\n\r\n  useEffect(() => {\r\n    const fetchCards = async () => {\r\n      if (userInformation) {\r\n        const token = localStorage.getItem('token');\r\n        try {\r\n          const response = await axios.get('https://monkfish-app-z9uza.ondigitalocean.app/bcard2/cards/my-cards', {\r\n            headers: {\r\n              'x-auth-token': token\r\n            },\r\n          });\r\n          setCards(response.data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    };\r\n    fetchCards();\r\n  }, [userInformation]);\r\n\r\n  const addCardToList = (newCard) => {\r\n    setCards((prevCards) => [newCard, ...prevCards]);\r\n  };\r\n\r\n  if (!userInformation || !cards) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"bodyCards\">\r\n        <div className={styleCards.container_cards}>\r\n          <div className={styleCards.frontCard}>\r\n            <h1 className={styleCards.stickTitle}>My Cards</h1>\r\n            {cards.length === 0 && <div>No cards found</div>}\r\n            <ul className={styleCards.listOfCards}>\r\n              {cards.map((card) => (\r\n                <li className={styleCards.item} key={card._id}>\r\n                  <img\r\n                    className={styleCards.imgCards}\r\n                    src={card.image.url}\r\n                    alt={card.image.alt}\r\n                  />\r\n                  <h2>{card.title}</h2>\r\n                  <p className={styleCards.p}>{card.subtitle}</p>\r\n                  <p className={styleCards.p}>{card.address.country}</p>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            {(userInformation.isAdmin || userInformation.isBusiness) && (\r\n              <>\r\n                <button onClick={OpenAndCloseCard}>+</button>\r\n                {isClick && (\r\n                  <FormComponent\r\n                    handleChange={handleChange}\r\n                    handleSubmit={handleSubmit}\r\n                    formValid={formValid}\r\n                    formData={formData}\r\n                    closeForm={closeForm}\r\n                    addCardToList={addCardToList}\r\n                  />\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyCards;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,kCAAkC,CACzD,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,MAAO,CAAAC,aAAa,KAAM,yBAAyB,CACnD,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,WAAW,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEhD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAEgB,eAAgB,CAAC,CAAGd,UAAU,CAAC,CAAC,CACxC,KAAM,CAAEe,OAAO,CAAEC,YAAY,CAAEC,YAAY,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,gBAAiB,CAAC,CAAGjB,WAAW,CAAC,CAAC,CAE/GP,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAIR,eAAe,CAAE,CACnB,KAAM,CAAAS,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,GAAG,CAAC,qEAAqE,CAAE,CACtGC,OAAO,CAAE,CACP,cAAc,CAAEL,KAClB,CACF,CAAC,CAAC,CACFV,QAAQ,CAACa,QAAQ,CAACG,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CACF,CAAC,CACDR,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACR,eAAe,CAAC,CAAC,CAErB,KAAM,CAAAkB,aAAa,CAAIC,OAAO,EAAK,CACjCpB,QAAQ,CAAEqB,SAAS,EAAK,CAACD,OAAO,CAAE,GAAGC,SAAS,CAAC,CAAC,CAClD,CAAC,CAED,GAAI,CAACpB,eAAe,EAAI,CAACF,KAAK,CAAE,CAC9B,mBAAON,IAAA,CAACL,OAAO,GAAE,CAAC,CACpB,CAEA,mBACEK,IAAA,QAAA6B,QAAA,cACE7B,IAAA,QAAK8B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB7B,IAAA,QAAK8B,SAAS,CAAEjC,UAAU,CAACkC,eAAgB,CAAAF,QAAA,cACzC3B,KAAA,QAAK4B,SAAS,CAAEjC,UAAU,CAACmC,SAAU,CAAAH,QAAA,eACnC7B,IAAA,OAAI8B,SAAS,CAAEjC,UAAU,CAACoC,UAAW,CAAAJ,QAAA,CAAC,UAAQ,CAAI,CAAC,CAClDvB,KAAK,CAAC4B,MAAM,GAAK,CAAC,eAAIlC,IAAA,QAAA6B,QAAA,CAAK,gBAAc,CAAK,CAAC,cAChD7B,IAAA,OAAI8B,SAAS,CAAEjC,UAAU,CAACsC,WAAY,CAAAN,QAAA,CACnCvB,KAAK,CAAC8B,GAAG,CAAEC,IAAI,eACdnC,KAAA,OAAI4B,SAAS,CAAEjC,UAAU,CAACyC,IAAK,CAAAT,QAAA,eAC7B7B,IAAA,QACE8B,SAAS,CAAEjC,UAAU,CAAC0C,QAAS,CAC/BC,GAAG,CAAEH,IAAI,CAACI,KAAK,CAACC,GAAI,CACpBC,GAAG,CAAEN,IAAI,CAACI,KAAK,CAACE,GAAI,CACrB,CAAC,cACF3C,IAAA,OAAA6B,QAAA,CAAKQ,IAAI,CAACO,KAAK,CAAK,CAAC,cACrB5C,IAAA,MAAG8B,SAAS,CAAEjC,UAAU,CAACgD,CAAE,CAAAhB,QAAA,CAAEQ,IAAI,CAACS,QAAQ,CAAI,CAAC,cAC/C9C,IAAA,MAAG8B,SAAS,CAAEjC,UAAU,CAACgD,CAAE,CAAAhB,QAAA,CAAEQ,IAAI,CAACU,OAAO,CAACC,OAAO,CAAI,CAAC,GARnBX,IAAI,CAACY,GAStC,CACL,CAAC,CACA,CAAC,CACJ,CAACzC,eAAe,CAAC0C,OAAO,EAAI1C,eAAe,CAAC2C,UAAU,gBACrDjD,KAAA,CAAAE,SAAA,EAAAyB,QAAA,eACE7B,IAAA,WAAQoD,OAAO,CAAErC,gBAAiB,CAAAc,QAAA,CAAC,GAAC,CAAQ,CAAC,CAC5CpB,OAAO,eACNT,IAAA,CAACJ,aAAa,EACZc,YAAY,CAAEA,YAAa,CAC3BC,YAAY,CAAEA,YAAa,CAC3BC,SAAS,CAAEA,SAAU,CACrBC,QAAQ,CAAEA,QAAS,CACnBC,SAAS,CAAEA,SAAU,CACrBY,aAAa,CAAEA,aAAc,CAC9B,CACF,EACD,CACH,EACE,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}